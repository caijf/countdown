!function(t,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?module.exports=i():t.CountDown=i()}(this,function(){function n(){}function o(t){return"function"==typeof t}function t(t){this._init("object"!=typeof t?{}:t)}return t.prototype._init=function(t){for(var i in this.counting=!1,this.conpleted=!1,this.timer=null,this.options={time:0,interval:1e3,format:null,onChange:n,onEnd:n},t)t.hasOwnProperty(i)&&(this.options[i]=t[i]);this._initTime()},t.prototype._initTime=function(){this.time=this.options.time},t.prototype._handleChange=function(){var t=this.options.onChange,i=this.options.format;o(t)&&t(o(i)?i(this.time):this.time)},t.prototype._handleEnd=function(){var t=this.options.onEnd;this.pause(),this.conpleted=!0,o(t)&&t()},t.prototype._tick=function(){var t,i;this.conpleted||(t=this.options.interval,(i=this).timer=setTimeout(function(){i.time-=t,i.time<0&&(i.time=0),i._handleChange(),i.time<=0?i._handleEnd():i._tick()},t))},t.prototype.start=function(){this.counting||(this.counting=!0,this._tick())},t.prototype.pause=function(){clearTimeout(this.timer),this.counting=!1},t.prototype.reset=function(){this.pause(),this.conpleted=!1,this._initTime(),this._handleChange()},t});